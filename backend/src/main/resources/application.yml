server:
  port: 8080

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://39.99.238.143:3306/novel_voice_db?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: ${DB_PASSWORD:Clq@20251120}
  
  # 文件上传配置
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 20MB
  
  # 静态资源配置
  web:
    resources:
      static-locations: classpath:/static/,file:./uploads/

mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.app.novelvoice.entity
  configuration:
    map-underscore-to-camel-case: true

logging:
  level:
    com.app.novelvoice.mapper: DEBUG

# 文件存储配置（策略模式支持多种存储方式）
storage:
  # 当前使用的存储类型: local(本地), minio(MinIO), aliyun-oss(阿里云OSS)
  type: local
  # 最大文件大小（字节），默认 10MB
  max-file-size: 10485760
  # 允许的文件类型（为空表示不限制）
  # allowed-content-types:
  #   - image/jpeg
  #   - image/png
  #   - image/gif
  #   - application/pdf
  
  # 本地存储配置
  local:
    path: ./uploads
    base-url: http://localhost:8080
  
  # MinIO 对象存储配置
  minio:
    endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
    access-key: ${MINIO_ACCESS_KEY:minioadmin}
    secret-key: ${MINIO_SECRET_KEY:minioadmin}
    bucket: ${MINIO_BUCKET:novelvoice}
    secure: false
  
  # 阿里云 OSS 配置
  aliyun-oss:
    endpoint: ${ALIYUN_OSS_ENDPOINT:oss-cn-hangzhou.aliyuncs.com}
    access-key-id: ${ALIYUN_OSS_ACCESS_KEY_ID:your-access-key-id}
    access-key-secret: ${ALIYUN_OSS_ACCESS_KEY_SECRET:your-access-key-secret}
    bucket: ${ALIYUN_OSS_BUCKET:novelvoice}
    # 自定义域名（可选，用于CDN加速）
    # custom-domain: cdn.example.com

# Gemini AI Configuration
gemini:
  api:
    key: ${GEMINI_API_KEY:YOUR_GEMINI_API_KEY}
    model: gemini-3-pro-preview
    base-url: https://generativelanguage.googleapis.com/v1beta

# Netty WebSocket 配置
netty:
  websocket:
    port: 8081
    path: /ws
